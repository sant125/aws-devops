# A senha do sonar user Ã© a mesma do sonar-role-credentials no namespace database,
# mas precisa ser selada separadamente para o namespace sonarqube.
#
# 1. Admin password
#    kubectl create secret generic sonarqube-admin-credentials \
#      --namespace sonarqube \
#      --from-literal=password=<ADMIN_PASSWORD> \
#      --dry-run=client -o yaml | kubeseal --format yaml
#
# 2. DB password (mesmo valor de manifests/database/sonar-role-sealed-secret.yaml)
#    kubectl create secret generic sonarqube-db-credentials \
#      --namespace sonarqube \
#      --from-literal=password=<SONAR_DB_PASSWORD> \
#      --dry-run=client -o yaml | kubeseal --format yaml
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: sonarqube-admin-credentials
  namespace: sonarqube
spec:
  encryptedData:
    password: REPLACE_WITH_KUBESEAL_OUTPUT
  template:
    metadata:
      name: sonarqube-admin-credentials
      namespace: sonarqube
    type: Opaque
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: sonarqube-db-credentials
  namespace: sonarqube
spec:
  encryptedData:
    password: REPLACE_WITH_KUBESEAL_OUTPUT
  template:
    metadata:
      name: sonarqube-db-credentials
      namespace: sonarqube
    type: Opaque
